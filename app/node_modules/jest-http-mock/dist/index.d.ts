/// <reference types="node" />
import * as http from 'http';
export interface MockHttpServerOptions {
    port: number;
    timeout: number;
}
export interface MockHttpServer {
    readonly port: number;
    readonly host: string;
    waitForRequest(path: string): Promise<RequestMapEntry>;
    stopWaiting(requestPromise: Promise<RequestMapEntry>): void;
}
export declare type RequestHandler = (request: http.IncomingMessage, response: http.ServerResponse, error?: Error) => void;
interface RequestMapEntry {
    request: http.IncomingMessage;
    response: http.ServerResponse;
    body(encoding: BufferEncoding): Promise<string>;
    body(): Promise<Buffer>;
}
export declare function useMockHttpServer(options?: Partial<MockHttpServerOptions>): MockHttpServer;
export {};
